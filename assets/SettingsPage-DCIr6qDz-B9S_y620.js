import{f as O,y as W,t as $,v as u,k as D,S as G,x as I,i as v,u as a,w as A,a as f}from"./index-CL7HjhdV.js";import{b as P}from"./Card-C8Vt2KLr-CXW7Tvcj.js";import{i as d}from"./Select-COm5afdw-BbFkIx2B.js";import{a as b}from"./Input-gw2yEWz2-BvFam9MV.js";const q=()=>{const{settings:l,updateSettings:x,resetSettingsToDefaults:h,isInitialLoadComplete:p}=O(),{addToast:m}=W(),{t:e,setLanguage:i,languageDetails:j}=$(),[s,g]=u.useState(l);u.useEffect(()=>{p&&g(t=>({...t,...l,language:l.language||"en",geographicRegion:l.geographicRegion||"Global",department:l.department||"",dataSaverMode:l.dataSaverMode||!1}))},[l,p]);const k=Object.values(D).map(t=>({value:t,label:t})),S=Object.values(G).map(t=>({value:t,label:t})),C=Object.values(I).map(t=>({value:t,label:e(`settings.formattingStyles.${t.toLowerCase().replace(/\s+/g,"")}`)})),N=Object.values(v).map(t=>({value:t,label:t})),y=[{value:"Global",label:e("settings.regions.global")},{value:"Nigeria",label:e("settings.regions.nigeria")}],L=j.map(t=>({value:t.code,label:`${t.nativeName} (${e(`languages.${t.englishName.toLowerCase().replace(/\s+/g,"")}`)})`})),o=t=>{const{name:r,value:n}=t.target;g(c=>({...c,[r]:n}))},w=t=>{const{name:r,checked:n}=t.target;g(c=>({...c,[r]:n}))},R=t=>{const r=t.target.value;g(n=>({...n,language:r})),i(r)},T=t=>{const{name:r,value:n}=t.target;g(c=>({...c,[r]:n===""?void 0:parseInt(n,10)}))},M=u.useCallback(()=>{x(s),i(s.language),m(e("settings.settingsSavedSuccess"),"success")},[s,x,m,e,i]),E=u.useCallback(()=>{h(),i("en"),m(e("settings.settingsResetSuccess"),"info")},[h,m,e,i]);return p?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("header",{className:"pb-4 border-b border-border dark:border-dark-border",children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold tracking-tight text-foreground dark:text-dark-foreground flex items-center",children:[a.jsx(A,{className:"h-7 w-7 md:h-8 md:w-8 mr-2 text-primary dark:text-dark-primary"}),e("settings.title")]}),a.jsx("p",{className:"mt-1 text-muted-foreground dark:text-dark-muted-foreground",children:e("settings.description")})]}),a.jsx(P,{title:e("settings.preferencesTitle"),children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx(d,{label:e("settings.academicLevelLabel"),name:"academicLevel",options:k,value:s.academicLevel,onChange:o}),a.jsx(d,{label:e("settings.writingToneLabel"),name:"writingTone",options:S,value:s.writingTone,onChange:o}),a.jsx(d,{label:e("settings.formattingStyleLabel"),name:"formattingStyle",options:C,value:s.formattingStyle,onChange:o}),a.jsx(d,{label:e("settings.projectScopeLabel"),name:"projectScope",options:N,value:s.projectScope||v.GENERAL_RESEARCH,onChange:o}),a.jsx(d,{label:e("settings.languageLabel"),name:"language",options:L,value:s.language,onChange:R}),a.jsx(d,{label:e("settings.geographicRegionLabel"),name:"geographicRegion",options:y,value:s.geographicRegion,onChange:o})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx(b,{label:e("settings.currentSubjectLabel"),name:"currentSubject",placeholder:e("settings.currentSubjectPlaceholder"),value:s.currentSubject||"",onChange:o}),a.jsx(b,{label:e("settings.targetWordCountLabel"),name:"targetWordCount",type:"number",placeholder:"e.g., 1500",value:s.targetWordCount===void 0?"":s.targetWordCount,onChange:T,min:"0"}),s.geographicRegion==="Nigeria"&&a.jsx(b,{label:e("settings.departmentLabel"),name:"department",placeholder:e("settings.departmentPlaceholder"),value:s.department||"",onChange:o}),a.jsxs("div",{className:"flex items-center space-x-2 pt-4 md:pt-6",children:[a.jsx("input",{type:"checkbox",id:"dataSaverMode",name:"dataSaverMode",checked:s.dataSaverMode,onChange:w,className:"h-4 w-4 text-primary dark:text-dark-primary border-border dark:border-dark-border rounded focus:ring-primary dark:focus:ring-dark-primary"}),a.jsx("label",{htmlFor:"dataSaverMode",className:"text-sm font-medium text-foreground dark:text-dark-foreground",children:e("settings.dataSaverModeLabel")})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3 pt-4 border-t border-border dark:border-dark-border",children:[a.jsx(f,{onClick:E,variant:"outline",className:"w-full sm:w-auto",children:e("settings.resetToDefaults")}),a.jsx(f,{onClick:M,variant:"primary",className:"w-full sm:w-auto",children:e("settings.saveSettings")})]}),a.jsx("p",{className:"text-xs text-center text-muted-foreground dark:text-dark-muted-foreground pt-2",children:e("settings.notes")})]})})]}):a.jsx("div",{className:"flex justify-center items-center h-full",children:a.jsx("p",{children:e("global.loading")})})};export{q as default};
