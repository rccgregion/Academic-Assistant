import{l as E,q as M,G as W,r as u,s as F,W as G,F as P,p as v,j as a,I as $,c as j}from"./index-DwfKsHWR.js";import{C as A}from"./Card-BP-gc27O.js";import{S as i}from"./Select-B8-KE8W5.js";import{I as b}from"./Input-CaI1NqfY.js";const _=()=>{const{settings:o,updateSettings:h,resetSettingsToDefaults:x,isInitialLoadComplete:p}=E(),{addToast:m}=M(),{t:e,setLanguage:g,languageDetails:f}=W(),[s,d]=u.useState(o);u.useEffect(()=>{p&&d(t=>({...t,...o,language:o.language||"en",geographicRegion:o.geographicRegion||"Global",department:o.department||"",dataSaverMode:o.dataSaverMode||!1}))},[o,p]);const S=Object.values(F).map(t=>({value:t,label:t})),C=Object.values(G).map(t=>({value:t,label:t})),k=Object.values(P).map(t=>({value:t,label:e(`settings.formattingStyles.${t.toLowerCase().replace(/\s+/g,"")}`)})),L=Object.values(v).map(t=>({value:t,label:t})),N=[{value:"Global",label:e("settings.regions.global")},{value:"Nigeria",label:e("settings.regions.nigeria")}],y=f.map(t=>({value:t.code,label:`${t.nativeName} (${e(`languages.${t.englishName.toLowerCase().replace(/\s+/g,"")}`)})`})),l=t=>{const{name:n,value:r}=t.target;d(c=>({...c,[n]:r}))},w=t=>{const{name:n,checked:r}=t.target;d(c=>({...c,[n]:r}))},R=t=>{const n=t.target.value;d(r=>({...r,language:n})),g(n)},O=t=>{const{name:n,value:r}=t.target;d(c=>({...c,[n]:r===""?void 0:parseInt(r,10)}))},T=u.useCallback(()=>{h(s),g(s.language),m(e("settings.settingsSavedSuccess"),"success")},[s,h,m,e,g]),I=u.useCallback(()=>{x(),g("en"),m(e("settings.settingsResetSuccess"),"info")},[x,m,e,g]);return p?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("header",{className:"pb-4 border-b border-border dark:border-dark-border",children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold tracking-tight text-foreground dark:text-dark-foreground flex items-center",children:[a.jsx($,{className:"h-7 w-7 md:h-8 md:w-8 mr-2 text-primary dark:text-dark-primary"}),e("settings.title")]}),a.jsx("p",{className:"mt-1 text-muted-foreground dark:text-dark-muted-foreground",children:e("settings.description")})]}),a.jsx(A,{title:e("settings.preferencesTitle"),children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx(i,{label:e("settings.academicLevelLabel"),name:"academicLevel",options:S,value:s.academicLevel,onChange:l}),a.jsx(i,{label:e("settings.writingToneLabel"),name:"writingTone",options:C,value:s.writingTone,onChange:l}),a.jsx(i,{label:e("settings.formattingStyleLabel"),name:"formattingStyle",options:k,value:s.formattingStyle,onChange:l}),a.jsx(i,{label:e("settings.projectScopeLabel"),name:"projectScope",options:L,value:s.projectScope||v.GENERAL_RESEARCH,onChange:l}),a.jsx(i,{label:e("settings.languageLabel"),name:"language",options:y,value:s.language,onChange:R}),a.jsx(i,{label:e("settings.geographicRegionLabel"),name:"geographicRegion",options:N,value:s.geographicRegion,onChange:l})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsx(b,{label:e("settings.currentSubjectLabel"),name:"currentSubject",placeholder:e("settings.currentSubjectPlaceholder"),value:s.currentSubject||"",onChange:l}),a.jsx(b,{label:e("settings.targetWordCountLabel"),name:"targetWordCount",type:"number",placeholder:"e.g., 1500",value:s.targetWordCount===void 0?"":s.targetWordCount,onChange:O,min:"0"}),s.geographicRegion==="Nigeria"&&a.jsx(b,{label:e("settings.departmentLabel"),name:"department",placeholder:e("settings.departmentPlaceholder"),value:s.department||"",onChange:l}),a.jsxs("div",{className:"flex items-center space-x-2 pt-4 md:pt-6",children:[a.jsx("input",{type:"checkbox",id:"dataSaverMode",name:"dataSaverMode",checked:s.dataSaverMode,onChange:w,className:"h-4 w-4 text-primary dark:text-dark-primary border-border dark:border-dark-border rounded focus:ring-primary dark:focus:ring-dark-primary"}),a.jsx("label",{htmlFor:"dataSaverMode",className:"text-sm font-medium text-foreground dark:text-dark-foreground",children:e("settings.dataSaverModeLabel")})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3 pt-4 border-t border-border dark:border-dark-border",children:[a.jsx(j,{onClick:I,variant:"outline",className:"w-full sm:w-auto",children:e("settings.resetToDefaults")}),a.jsx(j,{onClick:T,variant:"primary",className:"w-full sm:w-auto",children:e("settings.saveSettings")})]}),a.jsx("p",{className:"text-xs text-center text-muted-foreground dark:text-dark-muted-foreground pt-2",children:e("settings.notes")})]})})]}):a.jsx("div",{className:"flex justify-center items-center h-full",children:a.jsx("p",{children:e("global.loading")})})};export{_ as default};
